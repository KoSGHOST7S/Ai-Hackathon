/* Self-hosted fonts — safe for Chrome extension CSP */
@import "@fontsource/dm-serif-display/400.css";
@import "@fontsource/dm-sans/300.css";
@import "@fontsource/dm-sans/400.css";
@import "@fontsource/dm-sans/500.css";
@import "@fontsource/dm-sans/600.css";

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ── Entrance animations (matching landing cubic-bezier) ── */
@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(14px); }
  to   { opacity: 1; transform: translateY(0); }
}

@keyframes scaleIn {
  from { opacity: 0; transform: scale(0.82); }
  to   { opacity: 1; transform: scale(1); }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to   { opacity: 1; }
}

@layer utilities {
  .animate-fade-in-up {
    animation: fadeInUp 0.45s cubic-bezier(0.22, 1, 0.36, 1) both;
  }
  .animate-scale-in {
    animation: scaleIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) both;
  }
  .animate-fade-in {
    animation: fadeIn 0.35s ease both;
  }
}

@layer base {
  :root {
    /* Colors matched to assignmint-landing palette
       #4BA87A → hsl(150, 38%, 48%)
       #F4FAF7 → hsl(151, 37%, 97%)
       #152228 → hsl(199, 31%, 12%)
       #69867D → hsl(161, 12%, 47%)
       #B3D4C0 → hsl(144, 28%, 77%)  — used light for borders
       #E0F5ED → hsl(157, 52%, 92%)
    */
    --primary: 150 38% 48%;
    --primary-foreground: 0 0% 100%;

    --secondary: 20 88% 65%;
    --secondary-foreground: 20 45% 12%;

    /* Surfaces */
    --background: 151 37% 97%;
    --foreground: 199 31% 12%;
    --card: 0 0% 100%;
    --card-foreground: 199 31% 12%;
    --popover: 0 0% 100%;
    --popover-foreground: 199 31% 12%;

    /* Muted + accent */
    --muted: 151 37% 94%;
    --muted-foreground: 161 12% 47%;
    --accent: 157 52% 92%;
    --accent-foreground: 150 38% 26%;

    /* Semantic */
    --destructive: 0 72% 51%;
    --destructive-foreground: 0 0% 98%;
    --border: 144 28% 87%;
    --input: 144 28% 87%;
    --ring: 150 38% 48%;

    --radius: 0.75rem;

    /* Font families (mirrors landing variables) */
    --font-display: "DM Serif Display", Georgia, serif;
    --font-body: "DM Sans", system-ui, sans-serif;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  html {
    background: transparent;
  }
  html,
  body,
  #root {
    width: 390px;
    height: 600px;
    overflow: hidden;
    margin: 0;
    padding: 0;
    border-radius: 12px;
  }
  body {
    @apply bg-background text-foreground;
    font-family: var(--font-body);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

@layer components {
  /* Milestone markdown prose — compact for extension popup */
  .milestone-prose {
    @apply text-xs text-foreground/85 leading-relaxed;
  }
  .milestone-prose h1,
  .milestone-prose h2,
  .milestone-prose h3 {
    @apply text-[10px] font-bold text-muted-foreground uppercase tracking-widest mt-3 mb-1 first:mt-0;
  }
  .milestone-prose p {
    @apply mb-2 last:mb-0;
  }
  .milestone-prose ul {
    @apply list-disc pl-4 space-y-1 mb-2;
  }
  .milestone-prose ol {
    @apply list-decimal pl-4 space-y-1 mb-2;
  }
  .milestone-prose strong {
    @apply font-semibold text-foreground;
  }
  .milestone-prose em {
    @apply italic;
  }
  .milestone-prose code {
    @apply font-mono text-[10px] bg-muted px-1 rounded;
  }
}
